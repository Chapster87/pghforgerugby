function urlBase64ToUint8Array(i){for(var e="=".repeat((4-i.length%4)%4),n=(i+e).replace(/\-/g,"+").replace(/_/g,"/"),t=window.atob(n),o=new Uint8Array(t.length),r=0;r<t.length;++r)o[r]=t.charCodeAt(r);return o}function updateViewportDimensions(){var i=window,e=document,n=e.documentElement,t=e.getElementsByTagName("body")[0],o=i.innerWidth||n.clientWidth||t.clientWidth,r=i.innerHeight||n.clientHeight||t.clientHeight;return{width:o,height:r}}function loadGravatars(){viewport=updateViewportDimensions(),viewport.width>=768&&jQuery(".comment img[data-gravatar]").each(function(){jQuery(this).attr("src",jQuery(this).attr("data-gravatar"))})}function jbResizeSlider(){var i=jQuery(".home-posts");i.find(".slick-slide").height("auto");var e=i.find(".slick-track"),n=jQuery(e).height();i.find(".slick-slide").css("height",n+"px")}function displayConfirmNotification(){if("serviceWorker"in navigator){var i={body:"You've enabled notifications from the Pittsburgh Forge!",icon:"/wp-content/themes/forge/src/library/images/app-icon-96x96.png",dir:"ltr",lang:"en-US",badge:"/wp-content/themes/forge/src/library/images/forge-icon-96x96.png",tag:"confirm-notification",actions:[{action:"confirm",title:"Okay",icon:"/wp-content/themes/forge/src/library/images/forge-icon-96x96.png"}]};navigator.serviceWorker.ready.then(function(e){e.showNotification("Notifications Enabled",i)})}}function configurePushSub(){if("serviceWorker"in navigator){var i;navigator.serviceWorker.ready.then(function(e){return i=e,e.pushManager.getSubscription()}).then(function(e){if(null===e){var n="BKqY0QFEqEzLuwbFqqOa_Z6anfLnvH1xkMTMSNumDXnLX81AFBHl8Um9zP9N7OuholMU_y3ITZV3Py-FKY-aIMI",t=urlBase64ToUint8Array(n);return i.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})}}).then(function(i){return fetch("https://pittsburgh-forge-rugby-club.firebaseio.com/subscriptions.json",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i)})}).then(function(i){i.ok&&displayConfirmNotification()})["catch"](function(i){console.log(i)})}}function askForNotificationPermission(){var i=jQuery(".enable-notifications");Notification.requestPermission(function(e){console.log("User Choice",e),"granted"!==e?console.log("No notification permission granted."):(i.hide(),configurePushSub())})}function enablePushNotifications(){var i=jQuery(".enable-notifications");"Notification"in window&&"serviceWorker"in navigator&&(i.show(),i.on("click",function(i){askForNotificationPermission()}))}"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then(function(){})["catch"](function(i){console.log(i)});var viewport=updateViewportDimensions(),waitForFinalEvent=function(){var i={};return function(e,n,t){t||(t="Don't call this twice without a uniqueId"),i[t]&&clearTimeout(i[t]),i[t]=setTimeout(e,n)}}(),timeToWaitForLast=100;!function(i,e){var n=function(i,e,n){var t;return function(){function o(){n||(i.apply(r,a),t=null)}var r=this,a=arguments;t?clearTimeout(t):n&&i.apply(r,a),t=setTimeout(o,e||500)}};jQuery.fn[e]=function(i){return i?this.bind("resize",n(i)):this.trigger(e)}}(jQuery,"smartresize"),jQuery(document).ready(function(i){var e=i(".main-nav #menu-main"),n=document.getElementById("bg-video");enablePushNotifications(),i(".main-nav .mm-btn").on("click",function(i){i.preventDefault(),e.toggleClass("active")}),i(".main-nav .submenu-toggle").on("click",function(e){e.preventDefault(),i(this).siblings(".sub-menu").toggleClass("active"),i(this).children("i.fas").toggleClass("fa-caret-right fa-caret-down")}),i(".home-posts").slick({infinite:!0,slidesToShow:4,slidesToScroll:1,responsive:[{breakpoint:768,settings:{slidesToShow:1}}]}),i(".home-posts").on("setPosition",function(){jbResizeSlider()}),n.addEventListener("canplay",function(){n.play()}),loadGravatars()}),jQuery(window).smartresize(function(i){var e=jQuery("#inner-header.wrap").outerWidth();e>=1024&&jQuery("#menu-main, .sub-menu").removeClass("active"),jbResizeSlider()});